# ðŸ—ï¸ Resolvr - System Architecture & Flow Diagrams

## ðŸ“Š High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USERS                                    â”‚
â”‚  (Developers, Managers, Admins on Mobile Devices)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â”‚ Mobile App
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                   â”‚
â”‚              RESOLVR MOBILE APP (React Native)                   â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Login/    â”‚  â”‚    Home     â”‚  â”‚     Incidents           â”‚ â”‚
â”‚  â”‚  Register   â”‚  â”‚  Dashboard  â”‚  â”‚  (xMatters-like) â˜…      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Projects   â”‚  â”‚   Issues    â”‚  â”‚   Notifications         â”‚ â”‚
â”‚  â”‚             â”‚  â”‚  (Kanban)   â”‚  â”‚                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                  â”‚
        â”‚ REST API (HTTP)                  â”‚ WebSocket (Real-time)
        â”‚                                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                   â”‚
â”‚              RESOLVR BACKEND SERVER (Node.js)                    â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚   API Routes        â”‚    â”‚   Services                       â”‚â”‚
â”‚  â”‚                     â”‚    â”‚                                  â”‚â”‚
â”‚  â”‚  â€¢ /api/auth       â”‚    â”‚  â€¢ Notification Service          â”‚â”‚
â”‚  â”‚  â€¢ /api/projects   â”‚    â”‚  â€¢ Escalation Logic              â”‚â”‚
â”‚  â”‚  â€¢ /api/issues     â”‚    â”‚  â€¢ Firebase Integration          â”‚â”‚
â”‚  â”‚  â€¢ /api/incidents â˜…â”‚    â”‚  â€¢ Socket.io Server              â”‚â”‚
â”‚  â”‚  â€¢ /api/users      â”‚    â”‚                                  â”‚â”‚
â”‚  â”‚  â€¢ /api/notifications    â”‚                                  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                  Middleware                                  â”‚â”‚
â”‚  â”‚  â€¢ JWT Authentication                                        â”‚â”‚
â”‚  â”‚  â€¢ Request Validation                                        â”‚â”‚
â”‚  â”‚  â€¢ Error Handling                                            â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ Mongoose ODM
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                    â”‚
â”‚                   DATABASE (MongoDB)                               â”‚
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Users   â”‚  â”‚ Projects â”‚  â”‚  Issues  â”‚  â”‚Incidents â”‚         â”‚
â”‚  â”‚          â”‚  â”‚          â”‚  â”‚          â”‚  â”‚    â˜…     â”‚         â”‚
â”‚  â”‚  â€¢ name  â”‚  â”‚  â€¢ name  â”‚  â”‚  â€¢ title â”‚  â”‚ â€¢ status â”‚         â”‚
â”‚  â”‚  â€¢ email â”‚  â”‚  â€¢ key   â”‚  â”‚  â€¢ type  â”‚  â”‚ â€¢ alert  â”‚         â”‚
â”‚  â”‚  â€¢ role  â”‚  â”‚  â€¢ owner â”‚  â”‚  â€¢ statusâ”‚  â”‚ â€¢ escalatâ”‚         â”‚
â”‚  â”‚ â€¢ isOnCallâ”‚  â”‚ â€¢ membersâ”‚  â”‚ â€¢ priorityâ”‚ â”‚ â€¢ response        â”‚
â”‚  â”‚ â€¢ fcmTokenâ”‚  â”‚          â”‚  â”‚          â”‚  â”‚   time   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                    Notifications                              â”‚â”‚
â”‚  â”‚  â€¢ user, type, message, isRead                               â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ Push Notifications
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              EXTERNAL SERVICES                                     â”‚
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Firebase Cloud         â”‚      â”‚ Twilio SMS           â”‚        â”‚
â”‚  â”‚ Messaging (FCM)        â”‚      â”‚ (Optional)           â”‚        â”‚
â”‚  â”‚                        â”‚      â”‚                      â”‚        â”‚
â”‚  â”‚ â€¢ Push Notifications   â”‚      â”‚ â€¢ SMS Alerts         â”‚        â”‚
â”‚  â”‚ â€¢ Mobile Device Reach  â”‚      â”‚ â€¢ Phone Calls        â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ”„ User Authentication Flow

```
Mobile App                Backend                     Database
    â”‚                        â”‚                            â”‚
    â”‚  1. Login Request      â”‚                            â”‚
    â”œâ”€â”€â”€(email, password)â”€â”€â”€>â”‚                            â”‚
    â”‚                        â”‚  2. Find User              â”‚
    â”‚                        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
    â”‚                        â”‚                            â”‚
    â”‚                        â”‚<â”€â”€â”€User Dataâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                        â”‚                            â”‚
    â”‚                        â”‚  3. Verify Password        â”‚
    â”‚                        â”‚     (bcrypt.compare)       â”‚
    â”‚                        â”‚                            â”‚
    â”‚                        â”‚  4. Generate JWT Token     â”‚
    â”‚                        â”‚     (jwt.sign)             â”‚
    â”‚                        â”‚                            â”‚
    â”‚<â”€â”€â”€â”€Token + Userâ”€â”€â”€â”€â”€â”€â”€â”¤                            â”‚
    â”‚                        â”‚                            â”‚
    â”‚  5. Store Token        â”‚                            â”‚
    â”‚     (AsyncStorage)     â”‚                            â”‚
    â”‚                        â”‚                            â”‚
    â”‚  6. All Future Requests â”‚                           â”‚
    â”œâ”€â”€â”€â”€(Header: Bearer Token)>                          â”‚
    â”‚                        â”‚                            â”‚
```

---

## ðŸš¨ Incident Escalation Flow (xMatters-like)

```
Timeline:                     Actions:                  System:

T = 0:00
  â”‚
  â”‚  Developer Creates         Issue â†’ Incident        Backend creates
  â”‚  Critical Incident         Status: "active"        incident record
  â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â”‚
  â”‚  Backend Triggers          Find ON-CALL users      Query: User.find({
  â”‚  Alert System              from project            isOnCall: true })
  â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â”‚
  â”‚  Push Notification         FCM sends to mobile     Firebase Cloud
  â”‚  Sent                      devices                 Messaging
  â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â”‚
  â”‚  Mobile Receives           Notification shows      App displays
  â”‚  Alert                     with sound/vibration    incident screen
  â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
T = 0:05                       IF NO ACKNOWLEDGMENT
  â”‚
  â”‚  Escalation Level 1        Send to next user       incident.escalationLevel++
  â”‚                            in chain                
  â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
T = 0:10                       IF NO ACKNOWLEDGMENT
  â”‚
  â”‚  Escalation Level 2        Send to managers        Notify all admins
  â”‚                            and admins              
  â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
T = 0:11
  â”‚
  â”‚  Developer                 One-tap button in       incident.status = 
  â”‚  ACKNOWLEDGES               mobile app             "acknowledged"
  â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â”‚
  â”‚  Escalation STOPS          No more alerts          incident.responseTime = 
  â”‚                            sent                    660 seconds (11 min)
  â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
T = 0:45
  â”‚
  â”‚  Developer                 Add resolution notes    incident.status = 
  â”‚  RESOLVES                  Close incident          "resolved"
  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

RESULT: 
  âœ… Incident handled in 45 minutes
  âœ… Response time: 11 minutes (acknowledged)
  âœ… Full audit trail recorded
  âœ… Team statistics updated
```

---

## ðŸ“± Mobile App Screen Flow

```
                        App Launch
                            â”‚
                            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Auth Check   â”‚
                    â”‚ (AsyncStorage)â”‚
                    â””â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”˜
                        â”‚       â”‚
                 No Token       â”‚ Token Exists
                        â”‚       â”‚
                        â”‚       â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”   â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  Login    â”‚   â”‚   Home     â”‚
              â”‚  Screen   â”‚   â”‚ Dashboard  â”‚
              â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚             â”‚
                   â”‚ Login       â”‚
                   â”‚ Success     â”‚
                   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                             â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Bottom   â”‚              â”‚  Stack          â”‚
    â”‚  Tabs     â”‚              â”‚  Navigator      â”‚
    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                             â”‚
    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚            â”‚      â”‚      â”‚                 â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â” â”Œâ”€â–¼â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
â”‚ Home  â”‚  â”‚Projectâ”‚ â”‚Inc.â”‚ â”‚Notif.â”‚    â”‚Project     â”‚
â”‚       â”‚  â”‚       â”‚ â”‚ â˜…  â”‚ â”‚      â”‚    â”‚Details     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”¬â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚      â”‚                          â”‚
               â”‚      â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚      â”‚                  â”‚ Issue Details  â”‚
               â”‚      â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚      â”‚                          â”‚
               â”‚      â”‚                  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚      â”‚                  â”‚ Create Issue   â”‚
               â”‚      â”‚                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚      â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Incident Details     â”‚
        â”‚ â€¢ View full info     â”‚
        â”‚ â€¢ ACKNOWLEDGE â˜…      â”‚
        â”‚ â€¢ RESOLVE            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ”” Notification System Flow

```
Event Occurs                WebSocket             Mobile App
(Backend)                   (Real-time)           (Receives)

Issue Created â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>  emit('notification')
    â”‚                              â”‚
    â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> Show in-app
    â”‚                                           notification
    â”‚
Incident Alert â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> emit('incident_alert')
    â”‚                              â”‚
    â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> Push notification
    â”‚                                           + Sound/Vibration
    â”‚                                           + Display on screen
    â”‚
Issue Updated â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> emit('issue_updated')
    â”‚                              â”‚
    â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> Update UI
    â”‚                                           (if viewing issue)
    â”‚
Comment Added â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> emit('notification')
    â”‚                              â”‚
    â”‚                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> Badge count++
    â”‚                                           Show notification
    â”‚
User Acknowledges â”€â”€â”€â”€â”€â”€â”€â”€â”€> emit('incident_acknowledged')
                                   â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> Update all users
                                                Stop further alerts
```

---

## ðŸ—„ï¸ Database Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Users     â”‚
â”‚              â”‚
â”‚ â€¢ _id        â”‚â—„â”€â”€â”€â”€â”
â”‚ â€¢ name       â”‚     â”‚
â”‚ â€¢ email      â”‚     â”‚  Many-to-One
â”‚ â€¢ role       â”‚     â”‚  (owner)
â”‚ â€¢ isOnCall   â”‚     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
       â”‚             â”‚
       â”‚ One-to-Many â”‚
       â”‚ (members)   â”‚
       â”‚             â”‚
       â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
       â”‚      â”‚   Projects  â”‚
       â””â”€â”€â”€â”€â”€>â”‚             â”‚
              â”‚ â€¢ _id       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ â€¢ name      â”‚        â”‚
              â”‚ â€¢ key       â”‚        â”‚
              â”‚ â€¢ owner     â”‚        â”‚  Many-to-One
              â”‚ â€¢ members[] â”‚        â”‚  (project)
              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â”‚
                     â”‚               â”‚
                     â”‚ One-to-Many   â”‚
                     â”‚ (issues)      â”‚
                     â”‚               â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”        â”‚
              â”‚   Issues    â”‚        â”‚
              â”‚             â”‚        â”‚
              â”‚ â€¢ _id       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ â€¢ key       â”‚
              â”‚ â€¢ title     â”‚
              â”‚ â€¢ project   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”
              â”‚ â€¢ assignee  â”‚        â”‚
              â”‚ â€¢ priority  â”‚        â”‚
              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â”‚  One-to-One
                     â”‚               â”‚  (issue)
                     â”‚ One-to-One    â”‚
                     â”‚ (incident)    â”‚
                     â”‚               â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”        â”‚
              â”‚  Incidents  â”‚        â”‚
              â”‚      â˜…      â”‚        â”‚
              â”‚ â€¢ _id       â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ â€¢ issue     â”‚
              â”‚ â€¢ status    â”‚
              â”‚ â€¢ triggeredBy
              â”‚ â€¢ acknowledgedBy
              â”‚ â€¢ escalations[]
              â”‚ â€¢ responseTime
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ” Security Flow

```
Request          Middleware         Controller        Response
  â”‚                  â”‚                   â”‚               â”‚
  â”‚  HTTP Request    â”‚                   â”‚               â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                   â”‚               â”‚
  â”‚                  â”‚                   â”‚               â”‚
  â”‚                  â”‚  1. Extract JWT   â”‚               â”‚
  â”‚                  â”‚     from header   â”‚               â”‚
  â”‚                  â”‚                   â”‚               â”‚
  â”‚                  â”‚  2. Verify Token  â”‚               â”‚
  â”‚                  â”‚     jwt.verify()  â”‚               â”‚
  â”‚                  â”‚                   â”‚               â”‚
  â”‚                  â”‚  3. Decode User   â”‚               â”‚
  â”‚                  â”‚     Info          â”‚               â”‚
  â”‚                  â”‚                   â”‚               â”‚
  â”‚                  â”‚  4. Attach to     â”‚               â”‚
  â”‚                  â”‚     req.user      â”‚               â”‚
  â”‚                  â”‚                   â”‚               â”‚
  â”‚                  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚               â”‚
  â”‚                  â”‚                   â”‚               â”‚
  â”‚                  â”‚                   â”‚  5. Process   â”‚
  â”‚                  â”‚                   â”‚     Request   â”‚
  â”‚                  â”‚                   â”‚               â”‚
  â”‚                  â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚                                                        â”‚
  â”‚  JSON Response                                         â”‚
  â”‚  (or 401 Unauthorized if token invalid)                â”‚
```

---

## ðŸ“Š API Endpoint Structure

```
/api
â”œâ”€â”€ /auth
â”‚   â”œâ”€â”€ POST   /register        # Create account
â”‚   â”œâ”€â”€ POST   /login           # Login user
â”‚   â”œâ”€â”€ GET    /me              # Get profile
â”‚   â”œâ”€â”€ PUT    /profile         # Update profile
â”‚   â”œâ”€â”€ PUT    /on-call         # Toggle on-call
â”‚   â””â”€â”€ POST   /logout          # Logout
â”‚
â”œâ”€â”€ /projects
â”‚   â”œâ”€â”€ POST   /                # Create project
â”‚   â”œâ”€â”€ GET    /                # List projects
â”‚   â”œâ”€â”€ GET    /:id             # Get project
â”‚   â”œâ”€â”€ PUT    /:id             # Update project
â”‚   â”œâ”€â”€ POST   /:id/members     # Add member
â”‚   â””â”€â”€ PUT    /:id/on-call     # Set on-call users
â”‚
â”œâ”€â”€ /issues
â”‚   â”œâ”€â”€ POST   /                # Create issue
â”‚   â”œâ”€â”€ GET    /                # List issues
â”‚   â”œâ”€â”€ GET    /:id             # Get issue
â”‚   â”œâ”€â”€ PUT    /:id             # Update issue
â”‚   â”œâ”€â”€ POST   /:id/comments    # Add comment
â”‚   â””â”€â”€ GET    /kanban/:projectId  # Kanban board
â”‚
â”œâ”€â”€ /incidents â˜… MAIN FEATURE
â”‚   â”œâ”€â”€ POST   /                # Create incident
â”‚   â”œâ”€â”€ GET    /                # List incidents
â”‚   â”œâ”€â”€ GET    /:id             # Get incident
â”‚   â”œâ”€â”€ POST   /:id/acknowledge # Acknowledge â˜…
â”‚   â””â”€â”€ PUT    /:id/resolve     # Resolve incident
â”‚
â”œâ”€â”€ /users
â”‚   â”œâ”€â”€ GET    /                # List users
â”‚   â”œâ”€â”€ GET    /:id             # Get user
â”‚   â””â”€â”€ GET    /:id/stats       # User statistics
â”‚
â””â”€â”€ /notifications
    â”œâ”€â”€ GET    /                # List notifications
    â”œâ”€â”€ PUT    /:id/read        # Mark as read
    â”œâ”€â”€ PUT    /read-all        # Mark all read
    â””â”€â”€ DELETE /:id             # Delete notification
```

---

**This architecture supports:**
âœ… Scalability (can handle thousands of users)
âœ… Real-time updates (WebSocket)
âœ… Reliability (error handling, validation)
âœ… Security (JWT, password hashing)
âœ… Maintainability (modular structure)
